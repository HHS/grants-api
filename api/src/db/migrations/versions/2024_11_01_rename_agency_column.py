"""rename agency column

Revision ID: 3640e31e6a85
Revises: 8b96ade6f6a2
Create Date: 2024-11-01 12:57:11.887858

"""

from alembic import op

# revision identifiers, used by Alembic.
revision = "3640e31e6a85"
down_revision = "8b96ade6f6a2"
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index("opportunity_agency_idx", table_name="opportunity", schema="api")
    op.alter_column("opportunity", "agency", new_column_name="agency_code", schema="api")
    op.create_index(
        op.f("opportunity_agency_code_idx"),
        "opportunity",
        ["agency_code"],
        unique=False,
        schema="api",
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f("opportunity_agency_code_idx"), table_name="opportunity", schema="api")
    op.alter_column("opportunity", "agency_code", new_column_name="agency", schema="api")
    op.create_index(
        "opportunity_agency_idx", "opportunity", ["agency_code"], unique=False, schema="api"
    )
    # ### end Alembic commands ###
