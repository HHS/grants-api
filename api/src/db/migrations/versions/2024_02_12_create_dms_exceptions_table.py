"""create DMS exceptions table

Revision ID: 86edfcb92a66
Revises: 8d2a88569e7e
Create Date: 2024-02-12 15:58:54.880550

"""
from alembic import op

# revision identifiers, used by Alembic.
revision = "86edfcb92a66"
down_revision = "8d2a88569e7e"
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute(
        """
    CREATE TABLE IF NOT EXISTS awsdms_apply_exceptions (
        ERROR_TIME timestamp  NOT NULL,
        TASK_NAME varchar(128)  NOT NULL,
        TABLE_OWNER varchar(128)  NOT NULL,
        TABLE_NAME varchar(128)  NOT NULL,
        STATEMENT text  NOT NULL,
        ERROR text  NOT NULL
    );
    """
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute("DROP TABLE IF EXISTS awsdms_apply_exceptions")
    # ### end Alembic commands ###
